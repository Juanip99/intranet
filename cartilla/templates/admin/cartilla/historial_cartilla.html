{% extends "admin/base_site.html" %}

{% block content %}
<h1 style="margin-bottom: 20px;">Historial de Cambios - {{ cartilla.nombre }}</h1>
<div class="table-container" style="overflow-x: auto;">
    <table class="table table-striped table-bordered" style="width: 100%; border-collapse: collapse; text-align: left;">
        <thead style="background-color: #f5f5f5; font-weight: bold;">
            <tr>
                <th style="padding: 10px; border: 1px solid #ddd;">Campo</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Valor Anterior</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Nuevo Valor</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Solicitado Por</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Fecha</th>
            </tr>
        </thead>
        <tbody>
            {% for cambio in cambios %}
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ cambio.field_name }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ cambio.old_value }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ cambio.new_value }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ cambio.requested_by }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ cambio.requested_at }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" style="padding: 10px; text-align: center; border: 1px solid #ddd;">No hay cambios registrados.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}